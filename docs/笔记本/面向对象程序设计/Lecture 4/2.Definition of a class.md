1.  **In C++, separated .h and .cpp files are used to define one class. (在 C++ 中，通常使用分离的 `.h` 和 `.cpp` 文件来定义一个类。)**
    
    - 这是 C++ 的一个标准实践。为了实现接口（interface）与实现（implementation）的分离，类的定义被拆分到两个文件中。
        
2. **Class declaration and member function prototypes are in the header file (.h). (类的声明和成员函数的原型放在头文件（`.h`）中。)**
    
    - **头文件（`.h` 或 `.hpp`）** 包含了类的 **接口**（Interface）。它包括：
        
        - 类的名称。
            
        - 成员变量（属性）的声明。
            
        - 成员函数（方法）的 **原型**（即函数签名，包括返回类型、函数名和参数列表）。
            
    - 任何其他需要使用这个类的文件都将 `#include` 这个头文件。
        
3. **All the bodies of these functions are in the source file (.cpp). (这些函数的所有主体都在源文件（`.cpp`）中。)**
    
    - **源文件（`.cpp`）** 包含了类的 **实现**（Implementation）。它包括：
        
        - 成员函数的 **具体代码**（函数体）。
            
    - 这样做的好处是，如果只修改函数体而不改变函数原型，使用该类的其他文件 **不需要重新编译**（除非是模板或内联函数）。
        
4.  **Pimpl technique: debatable, hides private members and removes compilation dependency. (Pimpl 技术：有争议，它隐藏了私有成员并消除了编译依赖。)**
    
    - **Pimpl** 是 **"Pointer to implementation"**（指向实现的指针）的缩写，是一种 C++ 的 **编程惯用法（idiom）**。
        
    - **目的：** 进一步隐藏类的 **私有（private）** 成员变量和私有函数的实现细节，并将它们从头文件中移除。
        
    - **工作原理：** 在头文件中，类只包含一个指向另一个私有类的 **指针**（这个私有类包含所有的实际私有数据和实现）。这样，当私有数据发生变化时，由于头文件（`.h`）的内容没有改变，使用该类的客户端代码 **完全不需要重新编译**，从而极大地减少了大型项目中的编译时间。
        
    - **“debatable”（有争议）：** 虽然它有编译上的优势，但也引入了额外的间接性（通过指针访问），增加了内存分配/释放的开销，以及代码复杂性。因此，是否使用它需要权衡利弊。

---
## 下面来看一段例子：
!!! example
    ```c++ title="Point.h"
            class Point{
            private:
                int x, y;
            public:
                void init(int ix, int iy);
                void print();
                void move(int dx, int dy);
            };
    ```
    
    ```c++ title="Point.cpp"
            #include "point.h"
            #include <iostream>
            using namespace std;
            
            void Point::init(int ix, int iy){
                x = ix;
                y = iy;
            }
            
            void Point::print(){
                cout << "Point at [" << x << "," << y << "]" << endl;
            }
            
            void Point::move(int dx, int dy){
                x += dx;
                y += dy;
            }
    ```
    
    那么对于用户来说，他只需要调用这个类的服务即可完成更高层面的调用：
    ```c++ title="main.cpp"
        #include<iostream>
        #include "point.h"
        using namespace std;

        int main(){
            Point p;
        
            p.init(2, 3);
            p.print();
            p.move(5, 5);
            p.print();
            return 0;
        }
    ```
    需要注意的是，c++提倡将类的声明和定义分开，像这个例子就是用Point.h来声明，用Point.cpp来定义具体功能，这样可以更好地维护代码。
    
    - .h 文件就像是作者和使用者之间的合约，讲述了所有的函数、类、变量等等的声明，而所有的定义都在 .cpp 文件中
    
    ![](附件/Pasted%20image%2020251016201106.png)

!!! tips "注意"
    比方说我在main.cpp这个文件中调用了Point.h和Line.h这两个头文件，那么我在编译的时候应该输入:`g++ Point.cpp Line.cpp  main.cpp`
    
    但是Point.cpp与Line.cpp自己并不会产生可执行程序，只有main函数在的时候才能有程序的入口，才可以产生可执行程序。它们俩未变成可执行程序，就会变成Point.o，Line.o之类的文件，至于是.o还是.s还是别的类型的文件是跟编译器相关的。最后在执行的过程中，再将这些.o文件与main.cpp放到一块编译成一个可执行文件。下一个章节会详细解释这个内容。
    
    ![](附件/Pasted%20image%2020251016205429.png)